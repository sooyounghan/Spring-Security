-----
### κ°μ”
-----
1. Spring Securityλ” μ”μ²­ κΈ°λ° κ¶ν• λ¶€μ—¬ (Request Based Authorization)μ™€ λ©”μ„λ“ κΈ°λ° κ¶ν• λ¶€μ—¬ (Method Based Authorization)λ¥Ό ν†µν•΄ μμ›μ— λ€ν• μ‹¬μΈµμ μΈ λ°©μ–΄λ¥Ό μ κ³µ
2. μ”μ²­ κΈ°λ° κ¶ν• λ¶€μ—¬λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­, μ¦‰ HttpServletRequestμ— λ€ν• κ¶ν• λ¶€μ—¬λ¥Ό λ¨λΈλ§ν•λ” κ²ƒμ΄λ©°, μ΄λ¥Ό μ„ν•΄ HttpSecurity μΈμ¤ν„΄μ¤λ¥Ό μ‚¬μ©ν•μ—¬ κ¶ν• κ·μΉ™μ„ μ„ μ–Έν•  μ μμ

-----
### μ”μ²­ κΈ°λ° κ¶ν• λ¶€μ—¬ - HttpSecurity.authorizeHttpReqeusts()
-----
```java
@Bean
SecurityFilterChain defaultSecurityFilterChain(HttpSecurity http) throws Exception {
    http.authroizeHttpRequests(authorize -> authorize
        .anyRequest().authenticated()); // μ• ν”λ¦¬μΌ€μ΄μ…μ λ¨λ“  μ—”λ“ν¬μΈνΈκ°€ μµμ†ν• μΈμ¦λ λ³΄μ• μ»¨ν…μ¤νΈκ°€ μμ–΄μ•Ό ν•λ‹¤κ³  μ•λ¦Ό

    return http.build();
}
```

1. authorizeHttpRequests()λ” μ‚¬μ©μμ μμ›μ ‘κ·Όμ„ μ„ν• μ”μ²­ μ—”λ“ν¬μΈνΈμ™€ μ ‘κ·Όμ— ν•„μ”ν• κ¶ν•μ„ λ§¤ν•‘μ‹ν‚¤κΈ° μ„ν• κ·μΉ™μ„ μ„¤μ •ν•λ” κ²ƒμΌλ΅μ„, μ„λΈ”λ¦Ώ κΈ°λ° μ—”λ“ν¬μΈνΈμ— μ ‘κ·Όν•λ ¤λ©΄ authroizeHttpRequest()μ— ν•΄λ‹Ή κ·μΉ™λ“¤μ„ ν¬ν•¨ν•΄μ•Ό ν•¨
2. authorizeHttpRequests()μ„ ν†µν•΄ μ”μ²­κ³Ό κ¶ν• κ·μΉ™μ΄ μ„¤μ •λλ©΄, λ‚΄λ¶€μ μΌλ΅ AuthorizationFilterκ°€ μ”μ²­μ— λ€ν• κ¶ν• κ²€μ‚¬ λ° μΉμΈ μ‘μ—…μ„ μν–‰

-----
### authorizeHttpRequests() API
-----
1. requestMatchers()
   - requestMatchers λ©”μ„λ“λ” HTTP μ”μ²­μ URL ν¨ν„΄, HTTP λ©”μ„λ“, μ”μ²­ νλΌλ―Έν„° λ“±μ„ κΈ°λ°μΌλ΅ μ–΄λ–¤ μ”μ²­μ— λ€ν•΄μ„λ” νΉμ • λ³΄μ• μ„¤μ •μ„ μ μ©ν•κ³ , λ‹¤λ¥Έ μ”μ²­μ— λ€ν•΄μ„λ” μ μ©ν•μ§€ μ•λ„λ΅ μ„Έλ°€ν•κ² μ μ–΄ν•  μ μλ„λ΅ ν•΄μ¤
   - μλ¥Ό λ“¤μ–΄, νΉμ • API κ²½λ΅μ—λ§ CSRF λ³΄νΈλ¥Ό μ μ©ν•κ±°λ‚, νΉμ • κ²½λ΅μ— λ€ν•΄ μΈμ¦μ„ μ”κµ¬ν•μ§€ μ•λ„λ΅ μ„¤μ •ν•  μ μμ
   - μ΄λ¥Ό ν†µν•΄ μ• ν”λ¦¬μΌ€μ΄μ…μ λ³΄μ• μ”κµ¬ μ‚¬ν•­μ— λ§μ¶°μ„ μ μ—°ν• λ³΄μ• μ •μ±…μ„ κµ¬μ„± κ°€λ¥

```java
requestMatchers(String... urlPatterns) // λ³΄νΈκ°€ ν•„μ”ν• μμ› κ²½λ΅λ¥Ό ν• κ° μ΄μƒ μ •μ

requestsMatchers(RequestMatcher... requestMatchers) // λ³΄νΈκ°€ ν•„μ”ν• μμ› κ²½λ΅λ¥Ό ν• κ° μ΄μƒ μ •μ (AntPathRequestMatchers, MvcRequestMatcher λ“±μ κµ¬ν„μ²΄ μ‚¬μ© κ°€λ¥)

rqeuestMatchers(HttpMethod method, String... urlPatterns) // Http Methodμ™€ λ³΄νΈκ°€ ν•„μ”ν• μμ› κ²½λ΅λ¥Ό ν• κ° μ΄μƒ μ •μ
```

2. μ—”λ“ ν¬μΈνΈ & κ¶ν• λ¶€μ—¬
```java
requestMatchers("/admin").hasRole("ADMIN") // μ”μ²­ URLμ΄ /admin μ—”νΈν¬μΈνΈ μΌ κ²½μ°, ADMIN κ¶ν•μ„ ν•„μ”λ΅ ν•¨
```
  - requestMatchers("/admin") : μ—”λ“ ν¬μΈνΈ ν¨ν„΄
  - hasRole("ADMIN") : κ¶ν• κ·μΉ™
  - μ΄λ¥Ό μ„λ²„μ—κ² μ „λ‹¬

-----
### λ³΄νΈ μμ›κ³Ό κ¶ν• κ·μΉ™ μ„¤μ •ν•κΈ°
-----
```java
http.authorizeHttpRequests(authorize -> authorize
      .requestMatchers("/user").hasAuthority("USER") // μ—”λ“ ν¬μΈνΈμ™€ κ¶ν• μ„¤μ •. μ”μ²­μ΄ /user μ—”λ“ν¬μΈνΈ μ”μ²­μΈ κ²½μ°, USER κ¶ν•μ„ ν•„μ”λ΅ ν•¨
      .requestMatchers("/mypage/**").hasAuthority("USER") // Ant ν¨ν„΄μ„ μ‚¬μ©ν•  μ μμ (μ”μ²­μ΄ /mypage λλ” ν•μ„ κ²½λ΅μΈ κ²½μ°, USER κ¶ν•μ„ ν•„μ”λ΅ ν•¨)
      .requestMatchers(RegexRequestMathcer.regexMatcher("/resource/[A-Za-z0-9]).hasAuthority("USER") // μ •κ· ν‘ν„μ‹ μ‚¬μ© κ°€λ¥
      .requestMatchers(HttpMethod.GET, "/**").hasAuthority("read") // HTTP METHOD μµμ…μ„ μ„¤μ •ν•  μ μμ
      .requestMatchers(HttpMethod.POST).hasAuthority("write") // POST λ°©μ‹μ λ¨λ“  μ—”λ“ ν¬μΈνΈ μ”μ²­μ€ write κ¶ν•μ„ ν•„μ”λ΅ ν•¨
      .requestMatchers(new AntPathRequestMatchers("/manager/**").hasAuthority("MANAGER") // μ›ν•λ” RequestMatcherλ¥Ό μ§μ ‘ μ‚¬μ©ν•  μ μμ
      .reqeustMatchers("/admin/**").hasAnyAuthority("ADMIN", "MANAGER") // /admin/ μ΄ν•μ λ¨λ“  μ”μ²­μ€ ADMINκ³Ό MANAGER κ¶ν• μ¤‘ ν•λ‚λ¥Ό ν•„μ”λ΅ ν•¨
      .anyRequest().authenticated()); // μ„μ—μ„ μ •μν• κ·μΉ™μ— ν•΄λ‹Ήν•μ§€ μ•μΌλ©΄, λ¨λ“  μ—”λ“ν¬μΈνΈ μ”μ²­μ€ μΈμ¦μ„ ν•„μ”λ΅ ν•¨
```

1. π’΅ μ£Όμμ‚¬ν•­
   - μ¤ν”„λ§ μ‹νλ¦¬ν‹°λ” ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ— λ€ν•΄ μ„μ—μ„λ¶€ν„° μ•„λλ΅ λ‚μ—΄λ μμ„λ€λ΅ μ²λ¦¬ν•λ©° μ”μ²­μ— λ€ν•μ—¬ μ²« λ²μ§Έ μΌμΉλ§ μ μ©λκ³ , λ‹¤μ μμ„λ΅ λ„μ–΄κ°€μ§€ μ•μ
   - /admin/**κ°€ /admin/db μ”μ²­μ„ ν¬ν•¨ν•λ―€λ΅ μλ„ν• λ€λ΅ κ¶ν• κ·μΉ™μ΄ μ¬λ°”λ¥΄κ² μ μ©λμ§€ μ•μ„ μ μμ
   - κ·Έλ ‡κΈ° λ•λ¬Έμ— μ—”λ“ ν¬μΈνΈ μ„¤μ • μ‹ μΆμ€ λ²”μ„μ κ²½λ΅λ¥Ό λ¨Όμ € μ •μν•κ³ , κ·Έκ²ƒλ³΄λ‹¤ ν° λ²”μ„μ κ²½λ΅λ¥Ό λ‹¤μ μ„¤μ •μ—μ„ μ •μν•΄μ•Όν•¨ (μ¦‰, μΆμ€ λ²”μ„κ°€ λ¨Όμ € λ‚μ™€μ•Ό ν•¨)

-----
### κ¶ν• κ·μΉ™ μΆ…λ¥
-----
<div align="center">
<img src="https://github.com/user-attachments/assets/b12dffb3-b6d4-4fc0-b069-df434fbb4639">
</div>

1. κ¶ν• κ·μΉ™μΌλ΅ AuthorizationManager ν΄λμ¤μ— μν•΄ μ¬κµ¬μ„±
2. λ¨λ“  μ”μ²­μ€ μ—¬λ¬ μΆ…λ¥μ AuthorizationManagerμ— μ„¤μ •λ κ¶ν• κ·μΉ™μ— λ”°λΌ μΉμΈ νΈμ€ κ±°λ¶€


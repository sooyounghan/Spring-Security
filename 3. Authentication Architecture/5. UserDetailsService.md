-----
### 시큐리티 인증 / 인가 흐름도
-----
<div align="center">
<img src="https://github.com/user-attachments/assets/d1cdda26-de52-4baa-b40a-1c9e8e2d9a10">
</div>

-----
### UserDetailsService
-----
1. 주요 기능 : 사용자와 관련된 상세 데이터를 로드 하는 것이며, 사용자의 신원, 권한, 자격 증명 등과 같은 정보 포함 가능
2. 이 인터페이스를 사용하는 클래스를 주로 AuthenticationProvider이며, 사용자가 시스템에 존재하는지 여부와 사용자 데이터를 검색하고 인증 과정 수행

<div align="center">
<img src="https://github.com/user-attachments/assets/9371cc0c-c3ba-448b-9b8b-9150b508e926">
</div>

  - 사용자의 이름을 통해 사용자 데이터를 검색하고, 해당 데이터를 UserDetails 객체로 반환

3. 흐름도
<div align="center">
<img src="https://github.com/user-attachments/assets/c32f3576-1c23-461f-ad6f-fba901861aec">
</div>

4. 사용 방법
```java
@Bean
public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
    AuthenticationManagerBuilder managerBuilder = http.getSharedObejct(AuthenticationManagerBuilder.class);
    // 모두 동일한 처리
    managerBuilder.userDetailsService(customUserDetailsService());
    http.userDetailsService(customUserDetailsService());

    http.authorizedHttpRequests(auth -> auth.anyRequest().authenticated());
    http.formLogin(Customizer.withDefaults());

    return http.build();
}

@Bean
public UserDetailsService customUserDetailsService() {
    return new CustomUserDetailsService();
}
```
<div align="center">
<img src="https://github.com/user-attachments/assets/dc5242c6-3a7f-4dc1-bd34-907e748fb777">
</div>

  - UserDeatilsService만 커스텀 마이징 할 경우 위와 같이 적용
  - AuthenticationProvider와 함께 커스텀마이징 할 경우, AuthenticationProvider에 직접 주입해서 사용

-----
### 코드
-----
1. UserDetailsService
```java
package org.springframework.security.core.userdetails;

public interface UserDetailsService {
    UserDetails loadUserByUsername(String username) throws UsernameNotFoundException;
}
```

